type HRService struct {
 e   *echo.Echo
 cfg*config.Config
 db  *sql.DB
 q*database.Queries
 s3  *aws.S3Client
}

c.Set("user_id", data.Data.Id)
c.Set("branch", data.Data.Branch)
c.Set("role", data.Data.Role)
c.Set("email", data.Data.Email)

// handler example
func (h *HRService) Handler(c echo.Context) error {
}

// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: air-ticket.sql

package database

import (
 "context"
 "database/sql"
 "time"
)

const countEmpAirticketReqByBranch = `-- name: CountEmpAirticketReqByBranch :one
SELECT COUNT(*) FROM emp_airticket_req
WHERE branch_id = ?
`

func (q *Queries) CountEmpAirticketReqByBranch(ctx context.Context, branchID int64) (int64, error) {
 row := q.db.QueryRowContext(ctx, countEmpAirticketReqByBranch, branchID)
 var count int64
 err := row.Scan(&count)
 return count, err
}

const countEmpAirticketReqByEmpAndBranch = `-- name: CountEmpAirticketReqByEmpAndBranch :one
SELECT COUNT(*) FROM emp_airticket_req
WHERE emp_id = ? AND branch_id = ?
`

type CountEmpAirticketReqByEmpAndBranchParams struct {
 EmpID    int64 `json:"emp_id"`
 BranchID int64 `json:"branch_id"`
}

func (q *Queries) CountEmpAirticketReqByEmpAndBranch(ctx context.Context, arg CountEmpAirticketReqByEmpAndBranchParams) (int64, error) {
 row := q.db.QueryRowContext(ctx, countEmpAirticketReqByEmpAndBranch, arg.EmpID, arg.BranchID)
 var count int64
 err := row.Scan(&count)
 return count, err
}

const createEmpAirticketReq = `-- name: CreateEmpAirticketReq :execresult
INSERT INTO emp_airticket_req (
    passenger_name,
    passenger_email,
    passport_number,
    departure_date,
    return_date,
    departure_city,
    arrival_city,
    reason,
    emp_id,
    branch_id,
    status
) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
`

type CreateEmpAirticketReqParams struct {
 PassengerName  string                `json:"passenger_name"`
 PassengerEmail string                `json:"passenger_email"`
 PassportNumber string                `json:"passport_number"`
 DepartureDate  time.Time             `json:"departure_date"`
 ReturnDate     time.Time             `json:"return_date"`
 DepartureCity  string                `json:"departure_city"`
 ArrivalCity    string                `json:"arrival_city"`
 Reason         string                `json:"reason"`
 EmpID          int64                 `json:"emp_id"`
 BranchID       int64                 `json:"branch_id"`
 Status         EmpAirticketReqStatus `json:"status"`
}

func (q *Queries) CreateEmpAirticketReq(ctx context.Context, arg CreateEmpAirticketReqParams) (sql.Result, error) {
 return q.db.ExecContext(ctx, createEmpAirticketReq,
  arg.PassengerName,
  arg.PassengerEmail,
  arg.PassportNumber,
  arg.DepartureDate,
  arg.ReturnDate,
  arg.DepartureCity,
  arg.ArrivalCity,
  arg.Reason,
  arg.EmpID,
  arg.BranchID,
  arg.Status,
 )
}

const deleteEmpAirticketReq = `-- name: DeleteEmpAirticketReq :exec
DELETE FROM emp_airticket_req
WHERE id = ?
`

func (q *Queries) DeleteEmpAirticketReq(ctx context.Context, id int64) error {
 _, err := q.db.ExecContext(ctx, deleteEmpAirticketReq, id)
 return err
}

const getEmpAirticketReqByBranch = `-- name: GetEmpAirticketReqByBranch :many
SELECT id, passenger_name, passenger_email, passport_number, departure_date, return_date, departure_city, arrival_city, reason, emp_id, branch_id, status, created_at, updated_at FROM emp_airticket_req
WHERE branch_id = ?
ORDER BY created_at DESC
LIMIT ? OFFSET ?
`

type GetEmpAirticketReqByBranchParams struct {
 BranchID int64 `json:"branch_id"`
 Limit    int32 `json:"limit"`
 Offset   int32 `json:"offset"`
}

func (q *Queries) GetEmpAirticketReqByBranch(ctx context.Context, arg GetEmpAirticketReqByBranchParams) ([]EmpAirticketReq, error) {
 rows, err := q.db.QueryContext(ctx, getEmpAirticketReqByBranch, arg.BranchID, arg.Limit, arg.Offset)
 if err != nil {
  return nil, err
 }
 defer rows.Close()
 var items []EmpAirticketReq
 for rows.Next() {
  var i EmpAirticketReq
  if err := rows.Scan(
   &i.ID,
   &i.PassengerName,
   &i.PassengerEmail,
   &i.PassportNumber,
   &i.DepartureDate,
   &i.ReturnDate,
   &i.DepartureCity,
   &i.ArrivalCity,
   &i.Reason,
   &i.EmpID,
   &i.BranchID,
   &i.Status,
   &i.CreatedAt,
   &i.UpdatedAt,
  ); err != nil {
   return nil, err
  }
  items = append(items, i)
 }
 if err := rows.Close(); err != nil {
  return nil, err
 }
 if err := rows.Err(); err != nil {
  return nil, err
 }
 return items, nil
}

const getEmpAirticketReqByEmpAndBranch = `-- name: GetEmpAirticketReqByEmpAndBranch :many
SELECT id, passenger_name, passenger_email, passport_number, departure_date, return_date, departure_city, arrival_city, reason, emp_id, branch_id, status, created_at, updated_at FROM emp_airticket_req
WHERE emp_id = ? AND branch_id = ?
ORDER BY created_at DESC
LIMIT ? OFFSET ?
`

type GetEmpAirticketReqByEmpAndBranchParams struct {
 EmpID    int64 `json:"emp_id"`
 BranchID int64 `json:"branch_id"`
 Limit    int32 `json:"limit"`
 Offset   int32 `json:"offset"`
}

func (q *Queries) GetEmpAirticketReqByEmpAndBranch(ctx context.Context, arg GetEmpAirticketReqByEmpAndBranchParams) ([]EmpAirticketReq, error) {
 rows, err := q.db.QueryContext(ctx, getEmpAirticketReqByEmpAndBranch,
  arg.EmpID,
  arg.BranchID,
  arg.Limit,
  arg.Offset,
 )
 if err != nil {
  return nil, err
 }
 defer rows.Close()
 var items []EmpAirticketReq
 for rows.Next() {
  var i EmpAirticketReq
  if err := rows.Scan(
   &i.ID,
   &i.PassengerName,
   &i.PassengerEmail,
   &i.PassportNumber,
   &i.DepartureDate,
   &i.ReturnDate,
   &i.DepartureCity,
   &i.ArrivalCity,
   &i.Reason,
   &i.EmpID,
   &i.BranchID,
   &i.Status,
   &i.CreatedAt,
   &i.UpdatedAt,
  ); err != nil {
   return nil, err
  }
  items = append(items, i)
 }
 if err := rows.Close(); err != nil {
  return nil, err
 }
 if err := rows.Err(); err != nil {
  return nil, err
 }
 return items, nil
}

const getEmpAirticketReqByID = `-- name: GetEmpAirticketReqByID :one
SELECT id, passenger_name, passenger_email, passport_number, departure_date, return_date, departure_city, arrival_city, reason, emp_id, branch_id, status, created_at, updated_at FROM emp_airticket_req
WHERE id = ?
`

func (q *Queries) GetEmpAirticketReqByID(ctx context.Context, id int64) (EmpAirticketReq, error) {
 row := q.db.QueryRowContext(ctx, getEmpAirticketReqByID, id)
 var i EmpAirticketReq
 err := row.Scan(
  &i.ID,
  &i.PassengerName,
  &i.PassengerEmail,
  &i.PassportNumber,
  &i.DepartureDate,
  &i.ReturnDate,
  &i.DepartureCity,
  &i.ArrivalCity,
  &i.Reason,
  &i.EmpID,
  &i.BranchID,
  &i.Status,
  &i.CreatedAt,
  &i.UpdatedAt,
 )
 return i, err
}

const setEmpAirticketReqStatus = `-- name: SetEmpAirticketReqStatus :exec
UPDATE emp_airticket_req
SET status = ?
WHERE id = ?
`

type SetEmpAirticketReqStatusParams struct {
 Status EmpAirticketReqStatus `json:"status"`
 ID     int64                 `json:"id"`
}

func (q *Queries) SetEmpAirticketReqStatus(ctx context.Context, arg SetEmpAirticketReqStatusParams) error {
 _, err := q.db.ExecContext(ctx, setEmpAirticketReqStatus, arg.Status, arg.ID)
 return err
}

const updateEmpAirticketReq = `-- name: UpdateEmpAirticketReq :exec
UPDATE emp_airticket_req
SET
    passenger_name = ?,
    passenger_email = ?,
    passport_number = ?,
    departure_date = ?,
    return_date = ?,
    departure_city = ?,
    arrival_city = ?,
    reason = ?,
    emp_id = ?,
    branch_id = ?
WHERE id = ?
`

type UpdateEmpAirticketReqParams struct {
 PassengerName  string    `json:"passenger_name"`
 PassengerEmail string    `json:"passenger_email"`
 PassportNumber string    `json:"passport_number"`
 DepartureDate  time.Time `json:"departure_date"`
 ReturnDate     time.Time `json:"return_date"`
 DepartureCity  string    `json:"departure_city"`
 ArrivalCity    string    `json:"arrival_city"`
 Reason         string    `json:"reason"`
 EmpID          int64     `json:"emp_id"`
 BranchID       int64     `json:"branch_id"`
 ID             int64     `json:"id"`
}

func (q *Queries) UpdateEmpAirticketReq(ctx context.Context, arg UpdateEmpAirticketReqParams) error {
 _, err := q.db.ExecContext(ctx, updateEmpAirticketReq,
  arg.PassengerName,
  arg.PassengerEmail,
  arg.PassportNumber,
  arg.DepartureDate,
  arg.ReturnDate,
  arg.DepartureCity,
  arg.ArrivalCity,
  arg.Reason,
  arg.EmpID,
  arg.BranchID,
  arg.ID,
 )
 return err
}
